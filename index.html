<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Admin Assistant</title>
    <!-- Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 sm:p-8 flex flex-col items-center min-h-screen">

    <!-- Main container with max width for better readability -->
    <div class="w-full max-w-4xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-700 dark:to-gray-800 rounded-2xl shadow-xl overflow-hidden p-6 sm:p-10 transition-all duration-300">
      
      <!-- Header Section -->
      <header class="mb-8 text-center">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-blue-600 dark:text-blue-400 mb-2 flex items-center justify-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-500 dark:text-blue-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83l-.52.52a2 2 0 0 1-2.83 0L17 19.4a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1.28 0 1.65 1.65 0 0 0-1.82.33l-.06-.06a2 2 0 0 1-2.83 0l-.52-.52a2 2 0 0 1 0-2.83L5.4 17a1.65 1.65 0 0 0-.33-1.82 1.65 1.65 0 0 0 0-2.54 1.65 1.65 0 0 0 .33-1.82l-.06-.06a2 2 0 0 1 0-2.83l.52-.52a2 2 0 0 1 2.83 0L7 5.4a1.65 1.65 0 0 0 1.82.33 1.65 1.65 0 0 0 2.54 0l.06-.06a2 2 0 0 1 2.83 0l.52.52a2 2 0 0 1 0 2.83L17 8.6a1.65 1.65 0 0 0 .33 1.82 1.65 1.65 0 0 0 0 2.54 1.65 1.65 0 0 0-.33 1.82z"></path>
          </svg>
          <span>Digital Admin Assistant</span>
        </h1>
        <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400">
          Search for guidance on administrative inquiries based on the Establishment Code.
        </p>
      </header>
      
      <!-- Search Bar -->
      <div class="mb-6">
        <input
          id="search-input"
          type="text"
          placeholder="Type your inquiry (e.g., 'unauthorized absence' or 'mishandled property')"
          class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"
        />
      </div>
      
      <!-- Search Results Display -->
      <div id="results-container" class="space-y-6">
        <!-- Initial welcome message -->
        <div id="welcome-message" class="text-gray-500 dark:text-gray-400 space-y-4">
          <p>Welcome to the Digital Admin Assistant. Here are some examples of what you can search for:</p>
          <ul class="list-disc list-inside space-y-2 pl-4">
            <li>"unauthorized absence"</li>
            <li>"staff refusing to work"</li>
            <li>"misappropriation of funds"</li>
            <li>"transfer request"</li>
          </ul>
          <p class="text-sm italic mt-4">This is a prototype. Data is for demonstration purposes only.</p>
        </div>
      </div>
    </div>

    <!-- About and Developer Information Section -->
    <div class="w-full max-w-4xl mt-12 p-6 sm:p-10 bg-white dark:bg-gray-800 rounded-2xl shadow-xl">
        <div class="space-y-8">
            <!-- About the Tool -->
            <div>
                <h2 class="text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4">
                    Digital Admin Assistant: A Decision-Support Tool for Administrative Inquiries
                </h2>
                <div class="space-y-4 text-gray-700 dark:text-gray-300">
                    <p>
                        The Digital Admin Assistant is a web-based decision-support tool designed for administrative officers in the Sri Lankan public service. It acts as a smart, digital knowledge base that centralizes and structures the rules and procedures from the Establishment Code. Instead of manually sifting through large volumes of text, officers can use this tool to quickly find relevant regulations for various inquiries and ensure consistency in their decisions.
                    </p>
                    <p>
                        The tool operates on a rule-based logic system. The core of the application is a database containing key information extracted from the Establishment Code, including:
                    </p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Observations:</strong> Common administrative issues (e.g., "unauthorized absence," "insubordination").</li>
                        <li><strong>Section References:</strong> The exact chapter and section from the Establishment Code that applies.</li>
                        <li><strong>Recommendations:</strong> The recommended actions or procedures to follow based on the rules.</li>
                        <li><strong>Keywords:</strong> Specific terms that help the search function find relevant entries.</li>
                    </ul>
                    <p>
                        When a user types a query, the application's search engine processes the input and matches it with the keywords and information in the database. It then displays the most relevant entry, providing a clear observation, the official section reference, and a concise recommendation.
                    </p>
                    <p>
                        This tool offers several key advantages for administrative and quality review processes: Improved Efficiency, Standardized Decisions, Enhanced Confidence, and Accessibility.
                    </p>
                </div>
            </div>

            <hr class="border-t-2 border-gray-200 dark:border-gray-700">

            <!-- Developer Information -->
            <div>
                <h2 class="text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400 mb-4">
                    Developer
                </h2>
                <div class="text-gray-700 dark:text-gray-300 space-y-4">
                    <p>
                        Under the vision of â€˜Transforming Public Administration through Digital Innovationâ€™, this platform was developed and is actively maintained by:
                    </p>
                    <p>
                        <strong>Dr. T. Jeevaraaj</strong><br>
                        MBBS, MCGP, MSc in Biomedical Informatics<br>
                        Medical Officer â€“ Health Information<br>
                        Office of Regional Director of Health Services, Trincomalee
                    </p>
                    <p>
                        ðŸ”— GitHub: <a href="https://github.com/jeevantjr" class="text-blue-500 hover:text-blue-400 underline transition-colors duration-200" target="_blank">https://github.com/jeevantjr</a>
                    </p>
                    <p class="mt-4 p-4 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-sm italic">
                        This is a prototype and a continuous plan to maintain and upgrade for the benefit of public administrative officers. Your feedback is highly valuable for this ongoing development. Please share your thoughts via email at <a href="mailto:moinformationtco@gmail.com" class="text-blue-500 hover:text-blue-400 underline transition-colors duration-200">moinformationtco@gmail.com</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock-up of the structured Establishment Code data.
        const mockKnowledgeBase = [
          {
            id: 1,
            category: 'Attendance',
            observation: 'Unauthorized absence for more than 5 consecutive days.',
            sectionReference: 'Establishment Code Vol. I, Chapter XLVII, Section 1.2',
            recommendation: 'Possible disciplinary action: Warning or Inquiry.',
            keywords: ['unauthorized', 'absence', 'attendance', 'disciplinary', 'inquiry', 'five days']
          },
          {
            id: 2,
            category: 'Misconduct',
            observation: 'Staff member mishandled government property.',
            sectionReference: 'Establishment Code Vol. I, Chapter XLVIII, Section 2.1',
            recommendation: 'Refer for preliminary investigation. Possible action: Recovery of damages and/or disciplinary action.',
            keywords: ['mishandling', 'property', 'misconduct', 'government', 'damage', 'investigation']
          },
          {
            id: 3,
            category: 'Leave',
            observation: 'Officer requests for special leave for a religious event.',
            sectionReference: 'Establishment Code Vol. I, Chapter IV, Section 3.5',
            recommendation: 'Permission can be granted if it does not exceed the allowed limit and is approved by the Head of Department.',
            keywords: ['leave', 'special leave', 'religious', 'request', 'approval']
          },
          {
            id: 4,
            category: 'Financial',
            observation: 'Misappropriation of public funds.',
            sectionReference: 'Establishment Code Vol. I, Chapter IX, Section 4.3',
            recommendation: 'Immediate reporting to the relevant authorities and initiation of a formal inquiry. The officer must be interdicted.',
            keywords: ['financial', 'misappropriation', 'funds', 'public', 'inquiry', 'interdiction']
          },
          {
            id: 5,
            category: 'Transfers',
            observation: 'Officer requests for a transfer due to a personal matter.',
            sectionReference: 'Establishment Code Vol. I, Chapter XXII, Section 1.1',
            recommendation: 'Such requests are subject to the needs of the service and the discretion of the Public Service Commission. An official request letter is required.',
            keywords: ['transfer', 'request', 'personal', 'matter', 'commission', 'official letter']
          },
          {
            id: 6,
            category: 'Attendance',
            observation: 'Late arrival to duty without a valid reason.',
            sectionReference: 'Establishment Code Vol. I, Chapter XLVII, Section 1.1',
            recommendation: 'Possible action includes a verbal warning, written warning, or deduction from salary.',
            keywords: ['late', 'arrival', 'duty', 'attendance', 'warning', 'salary']
          },
          {
            id: 7,
            category: 'Leave',
            observation: 'Officer has taken leave without submitting a leave form.',
            sectionReference: 'Establishment Code Vol. I, Chapter IV, Section 1.2',
            recommendation: 'The absence is considered unauthorized and may be deducted from their leave balance or salary.',
            keywords: ['leave', 'unauthorized', 'form', 'balance', 'salary']
          },
          {
            id: 8,
            category: 'Attendance',
            observation: 'An employee of a state hospital is absent from duty without notice.',
            sectionReference: 'Establishment Code Vol. I, Chapter XLVII, Section 1.1',
            recommendation: 'The officer is required to provide a written explanation for the absence within 7 days. Failure to do so may result in disciplinary action.',
            keywords: ['employee', 'hospital', 'absent', 'duty', 'notice', 'unauthorized', 'leave']
          },
          {
            id: 9,
            category: 'Leave',
            observation: 'Public holidays falling within a period of vacation leave.',
            sectionReference: 'Establishment Code Vol. I, Chapter XII, Section 8.3',
            recommendation: 'Unless a circular states otherwise, public holidays are not counted as part of the leave period.',
            keywords: ['public holiday', 'vacation', 'leave', 'holiday', 'duration']
          },
          {
            id: 10,
            category: 'Misconduct',
            observation: 'Failure to perform an assigned duty or insubordination.',
            sectionReference: 'Establishment Code Vol. II, Chapter XLVII, Section 1.1',
            recommendation: 'Formal investigation must be initiated. The officer may face disciplinary action, including a letter of demand or a formal inquiry.',
            keywords: ['refuse', 'unwilling', 'not willing', 'insubordination', 'disobey', 'duty', 'work', 'assigned', 'instructions', 'head of department']
          },
          {
            id: 11,
            category: 'Misconduct',
            observation: 'Refusal to obey a lawful order from a superior officer.',
            sectionReference: 'Establishment Code Vol. II, Chapter XLVII, Section 1.2',
            recommendation: 'This is considered an act of grave misconduct. A formal disciplinary inquiry must be conducted and appropriate action taken.',
            keywords: ['refusal', 'obey', 'order', 'superior', 'disobedience', 'misconduct', 'lawful']
          },
        ];

        // Styles for different categories
        const categoryStyles = {
            'Attendance': {
                bg: 'from-blue-100 to-blue-200 dark:from-blue-800 dark:to-blue-900',
                border: 'border-blue-500 dark:border-blue-400',
                text: 'text-blue-700 dark:text-blue-300',
                icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>'
            },
            'Misconduct': {
                bg: 'from-red-100 to-red-200 dark:from-red-800 dark:to-red-900',
                border: 'border-red-500 dark:border-red-400',
                text: 'text-red-700 dark:text-red-300',
                icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>'
            },
            'Leave': {
                bg: 'from-green-100 to-green-200 dark:from-green-800 dark:to-green-900',
                border: 'border-green-500 dark:border-green-400',
                text: 'text-green-700 dark:text-green-300',
                icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 19H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2z"></path><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>'
            },
            'Financial': {
                bg: 'from-yellow-100 to-yellow-200 dark:from-yellow-800 dark:to-yellow-900',
                border: 'border-yellow-500 dark:border-yellow-400',
                text: 'text-yellow-700 dark:text-yellow-300',
                icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12V7H3v12h18v-5"></path><path d="M22 17a2 2 0 0 1-2 2h-4a2 2 0 0 1 0-4h4a2 2 0 0 1 2 2z"></path><path d="M7 10h.01"></path><path d="M11 10h.01"></path></svg>'
            },
            'Transfers': {
                bg: 'from-purple-100 to-purple-200 dark:from-purple-800 dark:to-purple-900',
                border: 'border-purple-500 dark:border-purple-400',
                text: 'text-purple-700 dark:text-purple-300',
                icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3l4 4-4 4"></path><path d="M19 7H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h14"></path></svg>'
            },
            'default': {
                bg: 'from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800',
                border: 'border-gray-500 dark:border-gray-400',
                text: 'text-gray-700 dark:text-gray-300',
                icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16.5v-4.5h4.5"></path></svg>'
            }
        };

        // Get DOM elements
        const searchInput = document.getElementById('search-input');
        const resultsContainer = document.getElementById('results-container');
        const welcomeMessage = document.getElementById('welcome-message');

        // Function to render a single result item
        function renderResultItem(item) {
            const style = categoryStyles[item.category] || categoryStyles.default;

            const resultDiv = document.createElement('div');
            resultDiv.className = `bg-gradient-to-br ${style.bg} p-6 rounded-xl shadow-md transition-transform transform hover:scale-[1.01] duration-200 border-l-4 ${style.border}`;
            resultDiv.innerHTML = `
                <h3 class="text-lg font-semibold ${style.text} mb-2 flex items-center space-x-2">
                    ${style.icon}
                    <span>${item.observation}</span>
                </h3>
                <p class="text-sm text-gray-500 dark:text-gray-300 mb-4">Category: ${item.category}</p>
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                    <div class="flex-1">
                        <p class="text-xs font-medium text-gray-400 dark:text-gray-500 uppercase">Section Reference</p>
                        <p class="text-gray-700 dark:text-gray-200 font-mono text-sm">${item.sectionReference}</p>
                    </div>
                    <div class="flex-1">
                        <p class="text-xs font-medium text-gray-400 dark:text-gray-500 uppercase">Recommendation</p>
                        <p class="text-gray-700 dark:text-gray-200">${item.recommendation}</p>
                    </div>
                </div>
            `;
            return resultDiv;
        }

        // Function to handle the search logic and render results
        function handleSearch() {
            const query = searchInput.value.toLowerCase().trim();
            resultsContainer.innerHTML = ''; // Clear previous results

            if (query.length > 2) {
                welcomeMessage.style.display = 'none';

                const queryWords = query.split(' ').filter(word => word.length > 2);
                
                if (queryWords.length === 0) {
                    resultsContainer.innerHTML = `<div class="text-center py-4 text-gray-500 dark:text-gray-400">No matching results found.</div>`;
                    return;
                }

                const filteredResults = mockKnowledgeBase.filter(item => {
                    const searchableText = `${item.observation.toLowerCase()} ${item.sectionReference.toLowerCase()} ${item.recommendation.toLowerCase()} ${item.keywords.join(' ').toLowerCase()}`;
                    return queryWords.some(word => searchableText.includes(word));
                });

                if (filteredResults.length === 0) {
                    resultsContainer.innerHTML = `<div class="text-center py-4 text-gray-500 dark:text-gray-400">No matching results found.</div>`;
                } else {
                    filteredResults.forEach(item => {
                        resultsContainer.appendChild(renderResultItem(item));
                    });
                }
            } else {
                welcomeMessage.style.display = 'block';
            }
        }

        // Add event listener to the search input
        searchInput.addEventListener('input', handleSearch);
    </script>
</body>
</html>
